##Now subset out list type
l1 = subset(C,
C$List_Type == "Unrel_Recall_L3")
length(unique(l1$Sub.ID))
l2 = na.omit(l1)
l1.key = ver.C$Unrel_Recall_L3
ids = c()
items = c()
scores = c()
for (p in unique(l2$Sub.ID)){
temp = subset(l2,
l2$Sub.ID == p)
for (i in l1.key){
x = str_contains(i, temp$Response)
print(i)
print(table(x))
if (length(table(x)) == 1){
val = FALSE
scores = c(scores, val)
} else {
val = TRUE
scores = c(scores, val)
}
items = c(items, i)
ids = c(ids, p)
}
}
testoutput = data.frame(ids, items, scores)
output_C2 = testoutput[order(testoutput$items),]
output_C2 = output_C2[order(output_C2$ids),]
output_C2$list = rep("2")
####Now do list C6####
##Now subset out list type
l1 = subset(C,
C$List_Type == "Unrel_Recall_L4")
length(unique(l1$Sub.ID)) ##We have the 20 participants from version A who completed this list
l2 = na.omit(l1)
l1.key = ver.C$Unrel_Recall_L4
ids = c()
items = c()
scores = c()
for (p in unique(l2$Sub.ID)){
temp = subset(l2,
l2$Sub.ID == p)
for (i in l1.key){
x = str_contains(i, temp$Response)
print(i)
print(table(x))
if (length(table(x)) == 1){
val = FALSE
scores = c(scores, val)
} else {
val = TRUE
scores = c(scores, val)
}
items = c(items, i)
ids = c(ids, p)
}
}
testoutput = data.frame(ids, items, scores)
output_C6 = testoutput[order(testoutput$items),]
output_C6 = output_C6[order(output_C6$ids),]
output_C6$list = rep("6")
####Now for version D####
##Get D
D = subset(dat,
dat$Version == "D")
l1 = subset(D,
D$List_Type == "Unrel_Recall_L1")
length(unique(l1$Sub.ID)) ##We have the 20 participants from version A who completed this list
l2 = na.omit(l1)
l1.key = ver.D$Unrel_Recall_L1
temp = c()
ids = c()
key.items = c()
ids = c()
items = c()
scores = c()
for (p in unique(l2$Sub.ID)){
temp = subset(l2,
l2$Sub.ID == p)
for (i in l1.key){
x = str_contains(i, temp$Response)
print(i)
print(table(x))
if (length(table(x)) == 1){
val = FALSE
scores = c(scores, val)
} else {
val = TRUE
scores = c(scores, val)
}
items = c(items, i)
ids = c(ids, p)
}
}
testoutput = data.frame(ids, items, scores)
output_D2 = testoutput[order(testoutput$items),]
output_D2 = output_D2[order(output_D2$ids),]
output_D2$list = rep("2")
##Now for the next list
l1 = subset(D,
D$List_Type == "Unrel_Recall_L6")
length(unique(l1$Sub.ID)) ##We have the 20 participants from version A who completed this list
l2 = na.omit(l1)
l1.key = ver.D$Unrel_Recall_L6
ids = c()
items = c()
scores = c()
for (p in unique(l2$Sub.ID)){
temp = subset(l2,
l2$Sub.ID == p)
for (i in l1.key){
x = str_contains(i, temp$Response)
print(i)
print(table(x))
if (length(table(x)) == 1){
val = FALSE
scores = c(scores, val)
} else {
val = TRUE
scores = c(scores, val)
}
items = c(items, i)
ids = c(ids, p)
}
}
testoutput = data.frame(ids, items, scores)
output_D3 = testoutput[order(testoutput$items),]
output_D3 = output_D3[order(output_D3$ids),]
output_D3$list = rep("3")
####Now for Version E####
##Get Version E
E = subset(dat,
dat$Version == "E")
##Now subset out list type
l1 = subset(E,
E$List_Type == "Unrel_Recall_L3")
length(unique(l1$Sub.ID)) ##We have the 20 participants from version A who completed this list
l2 = na.omit(l1)
l1.key = ver.E$Unrel_Recall_L3
ids = c()
items = c()
scores = c()
for (p in unique(l2$Sub.ID)){
temp = subset(l2,
l2$Sub.ID == p)
for (i in l1.key){
x = str_contains(i, temp$Response)
print(i)
print(table(x))
if (length(table(x)) == 1){
val = FALSE
scores = c(scores, val)
} else {
val = TRUE
scores = c(scores, val)
}
items = c(items, i)
ids = c(ids, p)
}
}
testoutput = data.frame(ids, items, scores)
output_E2 = testoutput[order(testoutput$items),]
output_E2 = output_E2[order(output_E2$ids),]
output_E2$list = rep("2")
####Now do list C6####
##Now subset out list type
l1 = subset(E,
E$List_Type == "Unrel_Recall_L4")
length(unique(l1$Sub.ID)) ##We have the 20 participants from version A who completed this list
l2 = na.omit(l1)
l1.key = ver.E$Unrel_Recall_L4
ids = c()
items = c()
scores = c()
for (p in unique(l2$Sub.ID)){
temp = subset(l2,
l2$Sub.ID == p)
for (i in l1.key){
x = str_contains(i, temp$Response)
print(i)
print(table(x))
if (length(table(x)) == 1){
val = FALSE
scores = c(scores, val)
} else {
val = TRUE
scores = c(scores, val)
}
items = c(items, i)
ids = c(ids, p)
}
}
testoutput = data.frame(ids, items, scores)
output_E6 = testoutput[order(testoutput$items),]
output_E6 = output_E6[order(output_E6$ids),]
output_E6$list = rep("6")
####Now for Version F####
##Get D
f = subset(dat,
dat$Version == "F")
l1 = subset(f,
f$List_Type == "Unrel_Recall_L1")
length(unique(l1$Sub.ID)) ##We have the 20 participants from version A who completed this list
l2 = na.omit(l1)
l1.key = ver.F$Unrel_Recall_L1
ids = c()
items = c()
scores = c()
for (p in unique(l2$Sub.ID)){
temp = subset(l2,
l2$Sub.ID == p)
for (i in l1.key){
x = str_contains(i, temp$Response)
print(i)
print(table(x))
if (length(table(x)) == 1){
val = FALSE
scores = c(scores, val)
} else {
val = TRUE
scores = c(scores, val)
}
items = c(items, i)
ids = c(ids, p)
}
}
testoutput = data.frame(ids, items, scores)
output_F2 = testoutput[order(testoutput$items),]
output_F2 = output_F2[order(output_F2$ids),]
output_F2$list = rep("2")
##Now for the next list
l1 = subset(f,
f$List_Type== "Unrel_Recall_L6")
length(unique(l1$Sub.ID)) ##We have the 20 participants from version A who completed this list
l2 = na.omit(l1)
l1.key = ver.F$Unrel_Recall_L6
ids = c()
items = c()
scores = c()
for (p in unique(l2$Sub.ID)){
temp = subset(l2,
l2$Sub.ID == p)
for (i in l1.key){
x = str_contains(i, temp$Response)
print(i)
print(table(x))
if (length(table(x)) == 1){
val = FALSE
scores = c(scores, val)
} else {
val = TRUE
scores = c(scores, val)
}
items = c(items, i)
ids = c(ids, p)
}
}
testoutput = data.frame(ids, items, scores)
output_F3 = testoutput[order(testoutput$items),]
output_F3 = output_F3[order(output_F3$ids),]
output_F3$list = rep("3")
##Add in the person who missed everything on the last f list
missing.id = rep("A3VKMZEZL3CCPN", times = 20)
missing.responses = rep(FALSE, times = 20)
missing.list = rep("2", times = 20)
missing = data.frame(missing.id, l1.key, missing.responses, missing.list)
colnames(missing)[1:4] = c("ids", "items", "scores", "list")
missing = missing[order(missing$items),]
#output_F2 = rbind(output_F2, missing)
missing.id = rep("A248G7WMC2OS7F", times = 20)
missing.list = rep("6", times = 20)
missing = data.frame(missing.id, l1.key, missing.responses, missing.list)
colnames(missing)[1:4] = c("ids", "items", "scores", "list")
output_A6 = rbind(output_A6, missing)
##Write to .csv
final = rbind(output_A2, output_A6, output_B2, output_B3,
output_C2, output_C6, output_D2, output_D3,
output_E2, output_E6, output_F2, output_F3)
final = final[order(final$ids),]
##Write to file
#write.csv(final, file = "Unrel/Processed/unrel_5 formatted.csv", row.names = F)
mean(final$scores)
##Write to file
write.csv(final, file = "Unrel/Processed/unrel_5 formatted.csv", row.names = F)
dat = read.csv("Unrel_final.csv")
library(caret)
ref = factor(dat$Human)
lev0 = factor(dat$Lev0)
lev1 = factor(dat$Lev1)
lev2 = factor(dat$Lev2)
lev3 = factor(dat$Lev3)
lev4 = factor(dat$Lev4)
lev5 = factor(dat$Lev5)
#0
table(lev0, ref)
sensitivity(lev0, ref)
specificity(lev0, ref)
#1
table(lev1, ref)
sensitivity(lev1, ref)
specificity(lev1, ref)
#2
table(lev2, ref)
#1
table(lev1, ref)
sensitivity(lev1, ref)
specificity(lev1, ref)
#2
table(lev2, ref)
#2
table(lev2, ref)
sensitivity(lev2, ref)
specificity(lev2, ref)
#3
table(lev3, ref)
sensitivity(lev3, ref)
specificity(lev3, ref)
#4
table(lev4, ref)
sensitivity(lev4, ref)
specificity(lev4, ref)
table(lev5, ref)
sensitivity(lev5, ref)
specificity(lev5, ref)
dat = read.csv("Adhoc_final.csv")
library(caret)
ref = factor(dat$Human)
lev0 = factor(dat$Lev0)
lev1 = factor(dat$Lev1)
lev2 = factor(dat$Lev2)
lev3 = factor(dat$Lev3)
lev4 = factor(dat$Lev4)
lev5 = factor(dat$Lev5)
#0
table(lev0, ref)
sensitivity(lev0, ref)
specificity(lev0, ref)
#1
table(lev1, ref)
sensitivity(lev1, ref)
specificity(lev1, ref)
#2
table(lev2, ref)
sensitivity(lev2, ref)
sensitivity(lev2, ref)
specificity(lev2, ref)
#3
table(lev3, ref)
sensitivity(lev3, ref)
specificity(lev3, ref)
#4
table(lev4, ref)
sensitivity(lev4, ref)
specificity(lev4, ref)
#5
table(lev5, ref)
sensitivity(lev5, ref)
specificity(lev5, ref)
dat = read.csv("Cat_final.csv")
library(caret)
ref = factor(dat$Human)
lev0 = factor(dat$Lev0)
lev1 = factor(dat$Lev1)
lev2 = factor(dat$Lev2)
lev3 = factor(dat$Lev3)
lev4 = factor(dat$Lev4)
lev5 = factor(dat$Lev5)
#0
table(lev0, ref)
sensitivity(lev0, ref)
specificity(lev0, ref)
#1
table(lev1, ref)
sensitivity(lev1, ref)
specificity(lev1, ref)
#2
table(lev2, ref)
sensitivity(lev2, ref)
specificity(lev2, ref)
#3
table(lev3, ref)
sensitivity(lev3, ref)
specificity(lev3, ref)
#4
table(lev4, ref)
sensitivity(lev4, ref)
specificity(lev4, ref)
#5
table(lev5, ref)
sensitivity(lev5, ref)
specificity(lev5, ref)
lev0 = factor(dat$Lev0)
sensitivity(lev0, ref)
specificity(lev0, ref)
sensitivity(lev1, ref)
sensitivity(lev0, ref)
sensitivity(lev0, ref)
specificity(lev0, ref)
dat = read.csv("Cat_final.csv")
library(caret)
ref = factor(dat$Human)
lev0 = factor(dat$Lev0)
lev1 = factor(dat$Lev1)
lev2 = factor(dat$Lev2)
lev3 = factor(dat$Lev3)
lev4 = factor(dat$Lev4)
lev5 = factor(dat$Lev5)
sensitivity(lev0, ref)
specificity(lev0, ref)
sensitivity(lev1, ref)
specificity(lev1, ref)
sensitivity(lev2, ref)
specificity(lev2, ref)
sensitivity(lev3, ref)
specificity(lev3, ref)
sensitivity(lev0, ref)
specificity(lev0, ref)
sensitivity(lev1, ref)
specificity(lev1, ref)
sensitivity(lev2, ref)
specificity(lev2, ref)
sensitivity(lev2, ref)
specificity(lev2, ref)
sensitivity(lev3, ref)
specificity(lev3, ref)
sensitivity(lev4, ref)
specificity(lev4, ref)
sensitivity(lev5, ref)
specificity(lev5, ref)
dat = read.csv("Adhoc_final.csv")
library(caret)
ref = factor(dat$Human)
lev0 = factor(dat$Lev0)
lev1 = factor(dat$Lev1)
lev2 = factor(dat$Lev2)
lev3 = factor(dat$Lev3)
lev4 = factor(dat$Lev4)
lev5 = factor(dat$Lev5)
#0
table(lev0, ref)
sensitivity(lev0, ref)
specificity(lev0, ref)
sensitivity(lev1, ref)
specificity(lev1, ref)
sensitivity(lev2, ref)
specificity(lev2, ref)
sensitivity(lev3, ref)
specificity(lev3, ref)
sensitivity(lev1, ref)
specificity(lev1, ref)
sensitivity(lev4, ref)
specificity(lev4, ref)
sensitivity(lev5, ref)
specificity(lev5, ref)
dat = read.csv("Unrelated_final.csv")
dat = read.csv("Unrel_final.csv")
ref = factor(dat$Human)
lev0 = factor(dat$Lev0)
lev1 = factor(dat$Lev1)
lev2 = factor(dat$Lev2)
lev3 = factor(dat$Lev3)
lev4 = factor(dat$Lev4)
lev5 = factor(dat$Lev5)
dat = read.csv("Adhoc_final.csv")
library(caret)
ref = factor(dat$Human)
lev0 = factor(dat$Lev0)
lev1 = factor(dat$Lev1)
lev2 = factor(dat$Lev2)
lev3 = factor(dat$Lev3)
lev4 = factor(dat$Lev4)
lev5 = factor(dat$Lev5)
#0
table(lev0, ref)
sensitivity(lev0, ref)
specificity(lev0, ref)
#1
table(lev1, ref)
sensitivity(lev1, ref)
specificity(lev1, ref)
#2
table(lev2, ref)
sensitivity(lev2, ref)
specificity(lev2, ref)
#3
table(lev3, ref)
sensitivity(lev3, ref)
dat = read.csv("Unrel_final.csv")
library(caret)
ref = factor(dat$Human)
lev0 = factor(dat$Lev0)
lev1 = factor(dat$Lev1)
lev2 = factor(dat$Lev2)
lev3 = factor(dat$Lev3)
lev4 = factor(dat$Lev4)
lev5 = factor(dat$Lev5)
#0
table(lev0, ref)
sensitivity(lev0, ref)
specificity(lev0, ref)
sensitivity(lev1, ref)
specificity(lev1, ref)
sensitivity(lev2, ref)
specificity(lev2, ref)
sensitivity(lev3, ref)
specificity(lev3, ref)
sensitivity(lev4, ref)
specificity(lev4, ref)
sensitivity(lev5, ref)
specificity(lev5, ref)
